"use strict";(self.webpackChunkevolution_motors=self.webpackChunkevolution_motors||[]).push([[235],{85732:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var r=a(72791),s=a(50390),n=a(83099),i=a(87309),d=a(34571),o=a(89461),l=a(31752),c=a(82622),u=a(16030),h=a(77221),p=a(57689),x=a(80184);const j=e=>{let{data:t,deleteHandle:a}=e;const r=(0,u.I0)(),j=(0,p.s0)(),Z=[{title:"Image",dataIndex:"images",id:"images",render:e=>{var t;return(0,x.jsx)(s.Z,{width:50,src:null===(t=e[0])||void 0===t?void 0:t.url})}},{title:"Action",id:"action",render:(e,t)=>(0,x.jsxs)(n.Z,{size:20,children:[(0,x.jsx)(i.Z,{onClick:()=>{return e=t.id,localStorage.setItem("editDataId",e),r({type:h.Pb,payload:e}),void j("/banner/add");var e},type:"primary",icon:(0,x.jsx)(l.Z,{}),children:"Edit"}),(0,x.jsx)(d.Z,{title:"Are you sure to delete this task?",description:"Delete the task ",onConfirm:()=>(async e=>{a("/about/header-banner",e)})(t.id),children:(0,x.jsx)(i.Z,{type:"danger",icon:(0,x.jsx)(c.Z,{}),children:"Delete"})})]})}];return(0,x.jsx)("div",{children:(0,x.jsx)(o.Z,{columns:Z,dataSource:t,rowKey:e=>e.id})})};var Z=a(50419),m=a(66106),v=a(30914),y=a(49389),g=a(37083),w=a(79286),b=a(27169),f=a(91933);const C=()=>{const e=(0,p.s0)(),t=(0,u.I0)(),{mutate:a,isSuccess:s,isLoading:d}=(0,f.useMutation)((e=>{let{url:t,id:a}=e;return b.Z.deleteData(t,a)})),{data:o,isLoading:l,refetch:c}=(0,f.useQuery)("banner-get",(()=>b.Z.getData("/banners/")),{onError:e=>{for(let t in e.response.data)Z.ZP.error("".concat(t,": ").concat(e.response.data[t][0]))}}),[C,k]=(0,r.useState)([]),[I,L]=(0,r.useState)(!1);(0,r.useEffect)((()=>{s&&c()}),[s]);return(0,x.jsx)("div",{className:"site-space-compact-wrapper",children:(0,x.jsxs)(n.Z,{direction:"vertical",style:{width:"100%"},children:[(0,x.jsxs)(m.Z,{gutter:20,children:[(0,x.jsx)(v.Z,{span:16,children:(0,x.jsx)(y.default,{onChange:e=>(e=>{L(""!==e);const t=null===o||void 0===o?void 0:o.filter((t=>t.name_uz.toLowerCase().includes(e.toLowerCase())||t.name_ru.toLowerCase().includes(e.toLowerCase())));k(t)})(e.target.value)})}),(0,x.jsx)(v.Z,{span:8,children:(0,x.jsx)(i.Z,{type:"primary",icon:(0,x.jsx)(w.Z,{}),style:{width:"100%"},onClick:()=>{t({type:h.Pb,payload:""}),e("/banner/add")},children:"Add"})})]}),(0,x.jsx)(g.Z,{size:"medium",spinning:l||d,children:(0,x.jsx)(j,{data:I?C:o,deleteHandle:(e,t)=>{a({url:e,id:t})}})})]})})}}}]);
//# sourceMappingURL=235.0daaecd3.chunk.js.map