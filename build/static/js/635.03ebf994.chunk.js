"use strict";(self.webpackChunksirius_tech_motors=self.webpackChunksirius_tech_motors||[]).push([[635],{7635:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var s=r(19913),o=r(38725),a=r(82839),d=r(90466),n=r(12891),i=r(71827),c=r(27281),l=r(23782),u=r(91933),h=r(27169),j=r(521),x=r(50419),f=r(72791),p=r(80184);const{Title:v}=j.default,g=()=>{const{data:e,isError:t,isLoading:r}=(0,u.useQuery)("order-get",(()=>h.Z.getData("/order-list")),{onError:e=>{x.ZP.error(e)}}),j=(0,f.useMemo)((()=>{if(r||t)return[];const s=new Map;null===e||void 0===e||e.forEach((e=>{const t=new Date(null===e||void 0===e?void 0:e.created_at).toLocaleDateString();null!==s&&void 0!==s&&s.has(t)?null===s||void 0===s||s.set(t,s.get(t)+1):null===s||void 0===s||s.set(t,1)}));const o=[];for(const[e,t]of s)o.push({date:e,count:t});return o.reverse()}),[e,r,t]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(v,{type:"h2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),(0,p.jsx)(s.h,{width:"100%",height:300,children:(0,p.jsxs)(o.v,{data:j,children:[(0,p.jsx)(a.q,{strokeDasharray:"3 6"}),(0,p.jsx)(d.K,{dataKey:"date"}),(0,p.jsx)(n.B,{}),(0,p.jsx)(i.u,{}),(0,p.jsx)(c.D,{}),(0,p.jsx)(l.$,{dataKey:"count",fill:"#8884d8"})]})})]})};var y=r(14706),D=r(62066),m=r(72426),k=r.n(m);const{Title:K}=j.default,b=()=>{const{data:e}=(0,u.useQuery)("product-get",(()=>h.Z.getData("/products")),{onError:e=>{x.ZP.error(e)}}),t=(0,f.useMemo)((()=>{const t={};null===e||void 0===e||e.forEach((e=>{const r=k()(e.created_at).format("DD.MM.YYYY").split("T")[0];t[r]?t[r].product+=1:t[r]={date:r,product:1}}));return Object.values(t).reverse()}),[e]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(K,{type:"h2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"}),(0,p.jsx)(s.h,{width:"100%",height:300,children:(0,p.jsxs)(y.c,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[(0,p.jsx)(a.q,{stroke:"#f5f5f5"}),(0,p.jsx)(d.K,{dataKey:"date",scale:"band"}),(0,p.jsx)(n.B,{}),(0,p.jsx)(i.u,{}),(0,p.jsx)(c.D,{}),(0,p.jsx)(l.$,{dataKey:"product",barSize:20,fill:"#413ea0"}),(0,p.jsx)(D.x,{type:"monotone",dataKey:"product",stroke:"#ff7300"})]})})]})},w=()=>(0,p.jsxs)("div",{children:[(0,p.jsx)(g,{}),(0,p.jsx)(b,{})]})}}]);
//# sourceMappingURL=635.03ebf994.chunk.js.map